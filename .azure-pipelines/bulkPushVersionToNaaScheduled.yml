name: 'Push Field Service Package Version into Set of NAA Orgs by Schedule'


trigger: none

pr: none

schedules:
- cron: '0 6 * * *'
  displayName: Nightly Field Service Package Version Bulk Push to NAA
  branches:
    include:
    - dev-naa
  always: false


parameters:

- name: versionToPushOrgAuthFiles
  displayName: Auth Files for Orgs to upgrade (comma-separated)
  type: string
  default: "authFile_avgNAA,authFile_devNAA,authFile_naaPool1,authFile_naaPool2,authFile_naaPool3"

- name: versionToPushExpression
  displayName: Package version expression to upgrade to
  type: string
  default: "X.* (Beta ?)"

- name: versionWhereCondition
  displayName: Where Condition for version to upgrade
  type: string
  default: "Branch IN ('dev-naa')"


variables:

- template: templates/variables.yml


stages:

- template: templates/bulkPushVersion.yml
  parameters:
    localizationDomain: "NAA"
    versionToPushOrgAuthFiles: ${{ parameters.versionToPushOrgAuthFiles }}
    versionToPushExpression: ${{ parameters.versionToPushExpression }}
    versionWhereCondition: ${{ parameters.versionWhereCondition }}


